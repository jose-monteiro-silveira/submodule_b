<h1 class="title">Cache <span>Settings</span></h1>
    
<p>
    Através da API do Content Delivery você pode consultar, remover ou atualizar suas configurações existentes, bem como criar novas configurações de Content Delivery. Para Cache Settings, utilize os endpoints que seguem.
</p>

<ul class="orng-bar-list">
    <li><a href="#consulta-lista-de-cache-settings">1. Consulta lista de Cache Settings</a></li>
    <li><a href="#consulta-dados-de-uma-cache-setting">2. Consulta dados de uma Cache Setting</a></li>
    <li><a href="#deletar-uma-cache-setting">3. Deletar uma Cache Setting</a></li>
    <li><a href="#criar-uma-nova-cache-setting">4. Criar uma nova Cache Setting</a></li>
    <li><a href="#sobrescrever-uma-cache-setting">5. Sobrescrever uma Cache Setting</a></li>
    <li><a href="#atualizar-campos-de-uma-cache-setting">6. Atualizar campos de uma Cache Setting</a></li>
</ul>

<hr class="breaker">

<h2 class="black-small-title" id="consulta-lista-de-cache-settings">1. Consulta lista de Cache Settings</h2>

<p>Retorna a lista de Cache Settings de uma configuração de Content Delivery.</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar get"><span>GET</span></td>
                <td class="txt-bar"><span class="bold">/content_delivery/configurations/</span>:conf_id<span class="bold">/cache_settings</span>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >View Content Delivery</em></span></p>

<div class="table-orange-gray">
    <table >
        <thead>
            <tr class="td-10">
                <td>Parâmetro</td>
                <td>Descrição</td>
                <td>Tipo de Parâmetro</td>
                <td>Tipo de Dado</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>
                    Authorization
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A autenticação por Token previamente criado através do endpoint 
                    de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                    <br><br>
                    ex.:
                    <br><br>
                    Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                </td>

                <td>header</td>

                <td>string</td>

            </tr>

            <tr>
                <td>
                    :conf_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da configuração de Content Delivery a ser consultada.<br>
                    Para obter o Id de uma configuração, consulte a
                    <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>
                    
            </tr>
        </tbody>
    </table>
</div>

<p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
GET /content_delivery/configurations/1492081095/cache_settings
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
{% endhighlight %}
</div>
                    
<p class="black-sm-sub">Exemplo de Resposta</p>
                    
<div class="white-code">
{% highlight console %}
HTTP/2 200
{% endhighlight %}
</div>

<div class="white-code get">
{% highlight console %}
[
   {
      "id": 1478,
      "name": "Default Cache Settings",
      "browser_cache_settings": "honor",
      "browser_cache_settings_maximum_ttl": 0,
      "cdn_cache_settings": "override",
      "cdn_cache_settings_maximum_ttl": 31536000,
      "cache_by_query_string": "ignore",
      "query_string_fields": null,
      "enable_query_string_sort": false,
      "cache_by_cookies": "ignore",
      "cookie_names": null,
      "adaptive_delivery_action": "ignore",
      "device_group": [],
      "enable_caching_for_post": false
   },
   {
      "id": 1536,
      "name": "Cache by Cookies",
      "browser_cache_settings": "honor",
      "browser_cache_settings_maximum_ttl": 0,
      "cdn_cache_settings": "honor",
      "cdn_cache_settings_maximum_ttl": 86400,
      "cache_by_query_string": "ignore",
      "query_string_fields": null,
      "enable_query_string_sort": false,
      "cache_by_cookies": "whitelist",
      "cookie_names": ["user\r","session\r","login"],
      "adaptive_delivery_action": "ignore",
      "device_group": [],
      "enable_caching_for_post": false
   }
]
{% endhighlight %}
</div>

<hr class="breaker">

<h2 class="black-small-title" id="consulta-dados-de-uma-cache-setting">2. Consulta dados de uma Cache Setting</h2>

<p>Retorna dados de uma Cache Setting de uma configuração de Content Delivery.</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar get"><span>GET</span></td>
                <td class="txt-bar">
                    <span class="bold">/content_delivery/configurations/</span>:conf_id<span class="bold">/cache_settings/</span>:cache_id
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >View Content Delivery</em></span></p>

<div class="table-orange-gray">
    <table >
        <thead>
            <tr class="td-10">
                <td>Parâmetro</td>
                <td>Descrição</td>
                <td>Tipo de Parâmetro</td>
                <td>Tipo de Dado</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>
                    Authorization
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A autenticação por Token previamente criado através do endpoint 
                    de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                    <br><br>
                    ex.:
                    <br><br>
                    Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                </td>

                <td>header</td>

                <td>string</td>

            </tr>

            <tr>
                <td>
                    :conf_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da configuração de Content Delivery a ser consultada.<br>
                    Para obter o Id de uma configuração, consulte a
                    <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>
                    
            </tr>

            <tr>
                <td>
                    :cache_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da cache setting a ser consultada.<br>
                    Para obter o Id de uma origem, consulte a 
                    <a href="#consulta-lista-de-cache-settings" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>
                    
            </tr>
        </tbody>
    </table>
</div>

<p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
GET /content_delivery/configurations/1492081095/cache_settings/1478
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
{% endhighlight %}
</div>
                                        
<p class="black-sm-sub">Exemplo de Resposta</p>

<div class="white-code">
{% highlight console %}
HTTP/2 200
{% endhighlight %}
</div>

<div class="white-code get">
{% highlight console %}
{
    "id": 1478,
    "name": "Default Cache Settings",
    "browser_cache_settings": false,
    "browser_cache_settings_maximum_ttl": 0,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "ignore",
    "query_string_fields": null,
    "enable_query_string_sort": false,
    "cache_by_cookies": "ignore",
    "cookie_names": null,
    "adaptive_delivery_action": "ignore",
    "device_group": [],
    "enable_caching_for_post": false
 } 
{% endhighlight %}
</div>

<hr class="breaker">

<h2 class="black-small-title" id="deletar-uma-cache-setting">3. Deletar uma Cache Setting</h2>

<p>Remove uma Cache Setting de uma configuração de Content Delivery.</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar delete"><span>DELETE</span></td>
                <td class="txt-bar">
                    <span class="bold">/content_delivery/configurations/</span>:conf_id<span class="bold">/cache_settings/</span>:cache_id
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >Edit Content Delivery</em></span></p>

<div class="table-orange-gray">
    <table >
        <thead>
            <tr class="td-10">
                <td>Parâmetro</td>
                <td>Descrição</td>
                <td>Tipo de Parâmetro</td>
                <td>Tipo de Dado</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>
                    Authorization
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A autenticação por Token previamente criado através do endpoint 
                    de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                    <br><br>
                    ex.:
                    <br><br>
                    Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                </td>

                <td>header</td>

                <td>string</td>

            </tr>

            <tr>
                <td>
                    :conf_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da configuração de Content Delivery que possui a Cache Setting que será removida.<br>
                    Para obter o Id de uma configuração, consulte a
                    <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>     
            </tr>

            <tr>
                <td>
                    :cache_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da Cache Setting a ser removida.<br>
                    Para obter o Id de uma origem, consulte a 
                    <a href="#consulta-lista-de-cache-settings" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>

            </tr>
        </tbody>
    </table>
</div>

<p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
DELETE /content_delivery/configurations/1492081095/cache_settings/1535
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
{% endhighlight %}
</div>
                                                            
<p class="black-sm-sub">Exemplo de Resposta</p>
                    
<div class="white-code">
{% highlight console %}
HTTP/2 204
{% endhighlight %}
</div>

<hr class="breaker">

<h2 class="black-small-title" id="criar-uma-nova-cache-setting">4. Criar uma nova Cache Setting</h2>

<p>Cria uma nova Cache Setting em uma configuração de Content Delivery.</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar accept"><span>POST</span></td>
                <td class="txt-bar">
                    <span class="bold">/content_delivery/configurations/</span>:conf_id<span class="bold">/cache_settings</span>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >Edit Content Delivery</em></span></p>

<div class="table-orange-gray">
    <table >
        <thead>
            <tr class="td-10">
                <td>Parâmetro</td>
                <td>Descrição</td>
                <td>Tipo de Parâmetro</td>
                <td>Tipo de Dado</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>
                    Authorization
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A autenticação por Token previamente criado através do endpoint 
                    de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                    <br><br>
                    ex.:
                    <br><br>
                    Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                </td>

                <td>header</td>

                <td>string</td>

            </tr>

            <tr>
                <td>
                    Content-Type
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    O tipo de codificação utilizada no Body (application/json).
                    <br><br>
                    ex.:
                    <br><br>
                    Content-Type: application/json 
                </td>
                <td>header</td>
                <td>string</td>
            </tr>

            <tr>
                <td>
                    :conf_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da configuração de Content Delivery para a qual a Cache Setting deve ser criada.<br>
                    Para obter o Id de uma configuração, consulte a
                    <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>     
            </tr>

            <tr>
                <td>
                    Configuration
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A Cache Setting que se deseja criar deve ser enviada codificada no formato 
                    json com os seguintes campos:
                    <br><br>

                    <ul>
                        <li>
                            <span class="black-sm-sub">name</span>
                            (string): o nome da Cache Setting que se quer criar.
                        </li>

                        <li>
                            <span class="black-sm-sub">browser_cache_settings</span>
                            (choice): utilize o valor “honor”, para configurar a Azion para repassar os cabeçalhos de cache enviados 
                            por usa origem para os usuários. Utilize “override”, para definir um TTL para browser cache.
                        </li>
                        <li>
                            <span class="black-sm-sub">browser_cache_settings_maximum_ttl </span>
                            (number): defina o TTL de browser cache em segundos, caso tenha utilizado o valor “override”
                             no campo browser_cache_settings. Caso contrário, esse valor é ignorado.
                        </li>
                        <li>
                            <span class="black-sm-sub">cdn_cache_settings</span>
                            (choice): utilize o valor “honor”, para configurar a CDN 
                            para respeitar os cabeçalhos de cache enviados por sua origem; 
                            utilize “override” para configurar um TTL manualmente.
                        </li>
                        <li>
                            <span class="black-sm-sub">cdn_cache_settings_maximum_ttl</span>
                            (number): defina o TTL de CDN cache em segundos, caso tenha utilizado o valor “override“ 
                            no campo cdn_cache_settings. Caso contrário, esse valor é ignorado.
                        </li>
                        <li>
                            <span class="black-sm-sub">cache_by_query_string</span>
                            (choice): utilize o valor “ignore”, caso o conteúdo entregue para seus
                            usuários não varie pela Query String; utilize “whitelist”, caso o seu  
                            conteúdo varie por apenas alguns campos de Query String; utilize 
                            “blacklist”, caso seu conteúdo varie por todos os campos de Query String, 
                            com exceção de alguns; utilize “all”, caso seu conteúdo varie por todos os 
                            campos de Query String, sem exceções.
                        </li>

                        <li>
                            <span class="black-sm-sub">query_string_fields</span>
                            (array): caso você tenha selecionado “whitelist” ou “blacklist” no campo cache_by_query_string, 
                            liste em um array os campos de query string.
                        </li>

                        <li>
                            <span class="black-sm-sub">enable_query_string_sort </span>
                            (boolean): se você estiver utilizando cache_by_query_string, 
                            utilize <em>true</em> para ativar Query String Sort ou <em>false</em>, para desativar.
                        </li>

                        <li>
                            <span class="black-sm-sub">cache_by_cookies</span>
                            (choice): utilize o valor “ignore”, caso o conteúdo entregue para 
                            seus usuários não varie por cookies; utilize “whitelist”, 
                            caso o seu  conteúdo varie por apenas alguns cookies; utilize 
                            “blacklist”, caso seu conteúdo varie por todos os cookies, com exceção de alguns; 
                            utilize “all”, caso seu conteúdo varie por todos os cookies, sem exceções.
                        </li>
                        <li>
                            <span class="black-sm-sub">cookie_names</span>
                            (array): caso você tenha selecionado “whitelist” ou “blacklist” no campo cache_by_cookies, liste em um array os cookies.
                        </li>
                        <li>
                            <span class="black-sm-sub">adaptive_delivery_action </span>
                            (choice): utilize “ignore”, se desejar deixar desativada a variação de conteúdo por grupo de dispositivos. 
                            Utilize “whitelist” se desejar listar os grupos de dispositivos para os quais deverá haver variação do conteúdo (requer o produto Adaptive Delivery).
                        </li>
                        <li>
                            <span class="black-sm-sub">device_group</span>
                            (array): caso você tenha selecionado “whitelist” no campo adaptive_delivery_action, 
                            liste o id de todos os device groups para os quais deseja ativar a variação de conteúdo. 
                            Para obter o id dos device groups, consulte o endpoint <a href="{% tl api_v2_content_delivery_device_groups %}#consultar-lista-de-grupos-de-dispositivos" class="orng-link">Listar Device Groups</a>.
                        </li>
                        <li>
                            <span class="black-sm-sub">enable_caching_for_post </span>
                            (boolean): utilize <em>true</em> para ativar cache do método POST (requer Application Acceleration) ou <em>false</em> para desativar.
                        </li>
                    </ul>

                </td>
                
                <td>
                    body
                </td>
                <td>
                    json
                </td>

            </tr>
        </tbody>
    </table>
</div>

<p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
POST /content_delivery/configurations/1492081095/cache_settings
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
Content-Type: application/json
{% endhighlight %}
</div>
                                        
<div class="white-code put">
{% highlight console %}
{
    "name": "Cache for Static Files",
    "browser_cache_settings": "override",
    "browser_cache_settings_maximum_ttl": 86400,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "ignore",
    "cache_by_cookies": "ignore"
 }
{% endhighlight %}
</div>

<p class="black-sm-sub">Exemplo de Resposta</p>

<div class="white-code">
{% highlight console %}
HTTP/2 201
{% endhighlight %}
</div>

<div class="white-code put">
{% highlight console %}
{
    "id": 1542,
    "name": "Cache for Static Files",
    "browser_cache_settings": "override",
    "browser_cache_settings_maximum_ttl": 86400,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "ignore",
    "query_string_fields": null,
    "enable_query_string_sort": false,
    "cache_by_cookies": "ignore",
    "cookie_names": null,
    "adaptive_delivery_action": "ignore",
    "device_group": [],
    "enable_caching_for_post": false
}
{% endhighlight %}
</div>

<hr class="breaker">

<h2 class="black-small-title" id="sobrescrever-uma-cache-setting">5. Sobrescrever uma Cache Setting</h2>

<p>
    Sobrescreve todos os campos de uma Cache Setting, preservando o id. Os campos 
    opcionais não informados serão substituídos pelos valores default. Considere utilizar o 
    método PATCH no lugar de PUT, para atualizar somente alguns campos da configuração sem alterar o 
    valor dos demais.
</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar accept"><span>PUT</span></td>
                <td class="txt-bar">
                    <span class="bold">/content_delivery/configurations/</span>:conf_id<span class="bold">/cache_settings/</span>:cache_id
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >Edit Content Delivery</em></span></p>

<div class="table-orange-gray">
        <table >
            <thead>
                <tr class="td-10">
                    <td>Parâmetro</td>
                    <td>Descrição</td>
                    <td>Tipo de Parâmetro</td>
                    <td>Tipo de Dado</td>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>
                        Authorization
                        <br><br>
                        (obrigatório)
                    </td>

                    <td>
                        A autenticação por Token previamente criado através do endpoint 
                        de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                        <br><br>
                        ex.:
                        <br><br>
                        Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                    </td>

                    <td>header</td>

                    <td>string</td>

                </tr>

                <tr>
                    <td>
                        Content-Type
                        <br><br>
                        (obrigatório)
                    </td>

                    <td>
                        O tipo de codificação utilizada no Body (application/json).
                        <br><br>
                        ex.:
                        <br><br>
                        Content-Type: application/json
                    </td>
                    
                    <td>
                        header
                    </td>
                    <td>
                        string
                    </td>    
                </tr>

                <tr>
                    <td>
                        :conf_id
                        <br><br>
                        (obrigatório)
                    </td>

                    <td>
                        Id da configuração de Content Delivery para a qual a Cache Setting deve ser substituída.<br>
                        Para obter o Id de uma configuração, consulte a
                        <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                    </td>
                    
                    <td>
                        path
                    </td>
                    <td>
                        number
                    </td>
                        
                </tr>

                <tr>
                    <td>
                        :cache_id
                        <br><br>
                        (obrigatório)
                    </td>

                    <td>
                        Id da Cache Setting a ser sobrescrita.<br>
                        Para obter o Id de uma origem, consulte a 
                        <a href="{% tl api_v2_content_delivery_device_groups %}#consulta-lista-de-cache-settings" class="orng-link">Lista de Configurações</a>.
                    </td>
                    
                    <td>
                        path
                    </td>
                    <td>
                        number
                    </td> 
                </tr>

                <tr>
                    <td>
                        Configuration
                        <br><br>
                        (obrigatório)
                    </td>

                    <td>
                        Os novos valores de cada campo da configuração. Os campos não 
                        preenchidos serão substituídos pelo valor default. 
                        Se você desejar alterar apenas um dos campos, utilize o 
                        método PATCH ao invés do PUT.
                        <br><br>
                        <ul>
                            <li>
                                <span class="black-sm-sub">name</span>
                                (string): o nome da Cache Setting.
                            </li>

                            <li>
                                <span class="black-sm-sub">browser_cache_settings</span>
                                (choice): utilize o valor “honor”, para configurar a Azion para repassar os cabeçalhos 
                                de cache enviados por usa origem para os usuários. Utilize “override”, para definir um TTL para browser cache.
                            </li>

                            <li>
                                <span class="black-sm-sub">browser_cache_settings_maximum_ttl </span>
                                (number): defina o TTL de browser cache em segundos, caso tenha utilizado o valor “override” 
                                no campo browser_cache_settings. Caso contrário, esse valor é ignorado.
                            </li>

                            <li>
                                <span class="black-sm-sub">cdn_cache_settings</span>
                                (choice): utilize o valor “honor”, para configurar a CDN para respeitar 
                                os cabeçalhos de cache enviados por sua origem; utilize “override” para configurar um TTL manualmente.
                            </li>

                            <li>
                                <span class="black-sm-sub">cdn_cache_settings_maximum_ttl</span>
                                (number): defina o TTL de CDN cache em segundos, caso tenha utilizado 
                                o valor “override“ no campo cdn_cache_settings. Caso contrário, esse valor é ignorado.
                            </li>

                            <li>
                                <span class="black-sm-sub">cache_by_query_string</span>
                                (choice): utilize o valor “ignore”, caso o conteúdo entregue para seus usuários 
                                não varie pela Query String; utilize “whitelist”, caso o seu  conteúdo varie por 
                                apenas alguns campos de Query String; utilize “blacklist”, caso seu conteúdo varie 
                                por todos os campos de Query String, com exceção de alguns; utilize “all”, caso seu 
                                conteúdo varie por todos os campos de Query String, sem exceções.
                            </li>

                            <li>
                                <span class="black-sm-sub">query_string_fields</span>
                                (array): caso você tenha selecionado “whitelist” ou 
                                “blacklist” no campo cache_by_query_string, liste em um array 
                                os campos de query string.
                            </li>

                            <li>
                                <span class="black-sm-sub">enable_query_string_sort</span>
                                (boolean): se você estiver utilizando cache_by_query_string, 
                                utilize <em>true</em> para ativar Query String Sort ou false, para desativar.
                            </li>

                            <li>
                                <span class="black-sm-sub">cache_by_cookies</span>
                                (choice): utilize o valor “ignore”, caso o conteúdo entregue 
                                para seus usuários não varie por cookies; utilize “whitelist”, 
                                caso o seu  conteúdo varie por apenas alguns cookies; utilize 
                                “blacklist”, caso seu conteúdo varie por todos os cookies, 
                                com exceção de alguns; utilize “all”, caso seu conteúdo varie 
                                por todos os cookies, sem exceções.
                            </li>

                            <li>
                                <span class="black-sm-sub">cookie_names</span>
                                (array): caso você tenha selecionado “whitelist” ou “blacklist” 
                                no campo cache_by_cookies, liste em um array os cookies.
                            </li>
                            <li>
                                <span class="black-sm-sub">adaptive_delivery_action</span>
                                (choice): utilize “ignore”, se desejar deixar desativada a variação de conteúdo 
                                por grupo de dispositivos. Utilize “whitelist” se desejar listar os grupos de 
                                dispositivos para os quais deverá haver variação do conteúdo (requer o produto Adaptive Delivery).
                            </li>
                            <li>
                                <span class="black-sm-sub">device_group</span>
                                (array): caso você tenha selecionado “whitelist” no campo adaptive_delivery_action, liste o id de 
                                todos os device groups para os quais deseja ativar a variação de conteúdo. 
                                Para obter o id dos device groups, consulte o endpoint <a href="{% tl api_v2_content_delivery_device_groups %}#consultar-lista-de-grupos-de-dispositivos" class="orng-link">Listar Device Groups</a>.
                            </li>
                            <li>
                                <span class="black-sm-sub">enable_caching_for_post</span>
                                (boolean): utilize <em>true</em> para ativar cache do método POST (requer Application Acceleration) ou <em>false</em> para desativar.
                            </li>
                        </ul>
                    </td>
                    
                    <td>
                        body
                    </td>
                    <td>
                        json
                    </td>
                        
                </tr>
            </tbody>
        </table>
    </div>

    <p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
PUT /content_delivery/configurations/1492081095/cache_settings/1542
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
Content-Type: application/json
{% endhighlight %}
</div>
                                                                
<div class="white-code put">
{% highlight console %}
{
    "name": "Cache for Static Files",
    "browser_cache_settings": "override",
    "browser_cache_settings_maximum_ttl": 0,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "ignore",
    "cache_by_cookies": "ignore" 
} 
{% endhighlight %}
</div>
                        
<p class="black-sm-sub">Exemplo de Resposta</p>

<div class="white-code">
{% highlight console %}
HTTP/2 200
{% endhighlight %}
</div>

<div class="white-code put">
{% highlight console %}
{
    "id": 1542,
    "name": "Cache for Static Files",
    "browser_cache_settings": "override",
    "browser_cache_settings_maximum_ttl": 0,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "ignore",
    "query_string_fields": null,
    "enable_query_string_sort": false,
    "cache_by_cookies": "ignore",
    "cookie_names": null,
    "adaptive_delivery_action": "ignore",
    "device_group": [],
    "enable_caching_for_post": false
}
{% endhighlight %}
</div>

<hr class="breaker">

<h2 class="black-small-title" id="atualizar-campos-de-uma-cache-setting">6. Atualizar campos de uma Cache Setting</h2>

<p>Atualiza um ou mais campos de uma Cache Setting de uma configuração de Content Delivery, preservando o valor dos campos não informados</p>

<div class="scrollTable">
    <table class="button-txt">
        <tbody>
            <tr>
                <td class="button-bar accept"><span>PATCH</span></td>
                <td class="txt-bar">
                    <span class="bold">/content_delivery/configurations/</span>
                    :conf_id
                    <span class="bold">/cache_settings/</span>
                    :cache_id
                </td>
            </tr>
        </tbody>
    </table>
</div>

<p>Permissão necessária: <span class="black-sm-sub"><em >Edit Content Delivery</em></span></p>

<div class="table-orange-gray">
    <table >
        <thead>
            <tr class="td-10">
                <td>Parâmetro</td>
                <td>Descrição</td>
                <td>Tipo de Parâmetro</td>
                <td>Tipo de Dado</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>
                    Authorization
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    A autenticação por Token previamente criado através do endpoint 
                    de <a href="{% tl api_v2_authentication %}#criacao-de-token">Criação de Token</a>.
                    <br><br>
                    ex.:
                    <br><br>
                    Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
                </td>

                <td>header</td>

                <td>string</td>

            </tr>

            <tr>
                <td>
                    Content-Type
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    O tipo de codificação utilizada no Body (application/json).
                    <br><br>
                    ex.:
                    <br><br>
                    Content-Type: application/json
                </td>
                
                <td>
                    header
                </td>
                <td>
                    string
                </td>    
            </tr>

            <tr>
                <td>
                    :conf_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da configuração de Content Delivery para a qual a Cache Setting deve ser atualizada.<br>
                    Para obter o Id de uma configuração, consulte a
                    <a href="{% tl api_v2_content_delivery_main_settings %}#consulta-lista-de-configuracoes" class="orng-link">Lista de Configurações</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td>
                    
            </tr>

            <tr>
                <td>
                    :cache_id
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Id da Cache Setting a ser atualizada.<br>
                    Para obter o Id de uma Cache Setting, consulte a
                    <a href="#consulta-lista-de-cache-settings" class="orng-link">Lista de Cache Settings</a>.
                </td>
                
                <td>
                    path
                </td>
                <td>
                    number
                </td> 
            </tr>

            <tr>
                <td>
                    Configuration
                    <br><br>
                    (obrigatório)
                </td>

                <td>
                    Devem ser informados um ou mais campos a serem atualizados. Os campos não 
                    informados não terão o seu valor alterado.
                    <br><br>
                    <ul>
                        <li>
                            <span class="black-sm-sub">name</span>
                            (string): o novo nome da Cache Setting.
                        </li>

                        <li>
                            <span class="black-sm-sub">browser_cache_settings</span>
                            (choice): utilize o valor “honor”, para configurar a Azion para repassar os cabeçalhos 
                            de cache enviados por usa origem para os usuários. Utilize “override”, para definir um TTL para browser cache.
                        </li>

                        <li>
                            <span class="black-sm-sub">browser_cache_settings_maximum_ttl </span>
                            (number): defina o TTL de browser cache em segundos, caso tenha utilizado o valor “override” 
                            no campo browser_cache_settings. Caso contrário, esse valor é ignorado.
                        </li>

                        <li>
                            <span class="black-sm-sub">cdn_cache_settings</span>
                            (choice): utilize o valor “honor”, para configurar a CDN para respeitar os cabeçalhos 
                            de cache enviados por sua origem; utilize “override” para configurar um TTL manualmente.
                        </li>

                        <li>
                            <span class="black-sm-sub">cdn_cache_settings_maximum_ttl</span>
                            (number): defina o TTL de CDN cache em segundos, caso tenha utilizado o valor “override“ no campo cdn_cache_settings. 
                            Caso contrário, esse valor é ignorado.
                        </li>

                        <li>
                            <span class="black-sm-sub">cache_by_query_string</span>
                            (choice): utilize o valor “ignore”, caso o conteúdo entregue para seus usuários não varie pela 
                            Query String; utilize “whitelist”, caso o seu  conteúdo varie por apenas alguns campos de Query String; 
                            utilize “blacklist”, caso seu conteúdo varie por todos os campos de Query String, com exceção de alguns; 
                            utilize “all”, caso seu conteúdo varie por todos os campos de Query String, sem exceções.
                        </li>

                        <li>
                            <span class="black-sm-sub">query_string_fields</span>
                            (array): caso você tenha selecionado “whitelist” ou “blacklist” no campo cache_by_query_string, 
                            liste em um array os campos de query string.
                        </li>

                        <li>
                            <span class="black-sm-sub">enable_query_string_sort</span>
                            (boolean): se você estiver utilizando cache_by_query_string, 
                            utilize <em>true</em> para ativar Query String Sort ou <em>false</em>, para desativar.
                        </li>

                        <li>
                            <span class="black-sm-sub">cache_by_cookies</span>
                            (choice): utilize o valor “ignore”, caso o conteúdo entregue 
                            para seus usuários não varie por cookies; utilize “whitelist”, 
                            caso o seu  conteúdo varie por apenas alguns cookies; utilize 
                            “blacklist”, caso seu conteúdo varie por todos os cookies, 
                            com exceção de alguns; utilize “all”, caso seu conteúdo varie 
                            por todos os cookies, sem exceções.
                        </li>

                        <li>
                            <span class="black-sm-sub">cookie_names</span>
                            (array): caso você tenha selecionado “whitelist” ou “blacklist” 
                            no campo cache_by_cookies, liste em um array os cookies.
                        </li>
                        <li>
                            <span class="black-sm-sub">adaptive_delivery_action</span>
                             (choice): utilize “ignore”, se desejar deixar desativada a variação de conteúdo por grupo de dispositivos. 
                             Utilize “whitelist” se desejar listar os grupos de dispositivos para os quais deverá haver variação do conteúdo 
                             (requer o produto Adaptive Delivery).
                        </li>
                        <li>
                            <span class="black-sm-sub">device_group</span>
                            (array): caso você tenha selecionado “whitelist” no campo adaptive_delivery_action, 
                            liste o id de todos os device groups para os quais deseja ativar a variação de conteúdo. 
                            Para obter o id dos device groups, 
                            consulte o endpoint<a href="{% tl api_v2_content_delivery_device_groups %}#consulta-lista-de-configuracoes" class="orng-link">Listar Device Groups</a>.
                        </li>
                        <li>
                            <span class="black-sm-sub">enable_caching_for_post </span>
                            (boolean): utilize <em>true</em> para ativar cache do método POST (requer Application Acceleration) ou <em>false</em> para desativar.
                        </li>
                    </ul>
                </td>
                
                <td>
                    body
                </td>
                <td>
                    json
                </td>
                    
            </tr>
        </tbody>
    </table>
</div>

<p class="black-sm-sub">Exemplo de Requisição</p>

<div class="white-code">
{% highlight console %}
PATCH /content_delivery/configurations/1492081095/cache_settings/1542
Accept: application/json; version=2
Authorization: Token 583f8a9ca8d6d5ff2cb50f1d3c4d35cb8939f1bf
Content-Type: application/json
{% endhighlight %}
</div>
                                                                                    
<div class="white-code put">
{% highlight console %}
{
    "cache_by_query_string": "whitelist",
    "query_string_fields": ["product_id"]
}
{% endhighlight %}
</div>
                                            
<p class="black-sm-sub">Exemplo de Resposta</p>
                    
<div class="white-code">
{% highlight console %}
HTTP/2 200
{% endhighlight %}
</div>

<div class="white-code put">
{% highlight console %}
{
    "id": 1542,
    "name": "Cache for Static Files",
    "browser_cache_settings": "override",
    "browser_cache_settings_maximum_ttl": 0,
    "cdn_cache_settings": "override",
    "cdn_cache_settings_maximum_ttl": 31536000,
    "cache_by_query_string": "whitelist",
    "query_string_fields": ["product_id"],
    "enable_query_string_sort": false,
    "cache_by_cookies": "ignore",
    "cookie_names": null,
    "adaptive_delivery_action": "ignore",
    "device_group": [],
    "enable_caching_for_post": false
}
{% endhighlight %}
</div>

<hr class="breaker">

<p>
    Não encontrou o que procurava? <a href="https://tickets.azion.com/" class="orng-link no-break">Abra um ticket.</a>
</p>